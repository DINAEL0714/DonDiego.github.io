import{a2 as c,x as p,y as h}from"./runtime-core.esm-bundler.d90b5eb8.js";function g(l){let e=c(),t=l.subscribe((l=>{e.value=l}));return p()&&h(t),e}let l=[],f=(e,t)=>{let s=[],n={get:()=>(n.lc||n.listen((()=>{}))(),n.value),l:t||0,lc:0,listen:(l,e)=>(n.lc=s.push(l,e||n.l)/2,()=>{let e=s.indexOf(l);~e&&(s.splice(e,2),n.lc--,n.lc||n.off())}),notify(e){let t=!l.length;for(let t=0;t<s.length;t+=2)l.push(s[t],n.value,e,s[t+1]);if(t){for(let e=0;e<l.length;e+=4){let t=!1;for(let s=e+7;s<l.length;s+=4)if(l[s]<l[e+3]){t=!0;break}t?l.push(l[e],l[e+1],l[e+2],l[e+3]):l[e](l[e+1],l[e+2])}l.length=0}},off(){},set(l){n.value!==l&&(n.value=l,n.notify())},subscribe(l,e){let t=n.listen(l,e);return l(n.value),t},value:e};return n};const v=f([]),x=f(0);export{x as a,v as p,g as u};