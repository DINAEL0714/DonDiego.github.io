import{T as m}from"./runtime-dom.esm-bundler.4cbeeb3c.js";import{_}from"./_plugin-vue_export-helper.c27b6911.js";import{r as n,o as l,c as u,i as f,j as b,a as S,t as g,F as v,e as p,b as h,d as C}from"./runtime-core.esm-bundler.d90b5eb8.js";const w={__name:"CartButton",props:{label:String},setup(e,{expose:t}){t();const a=e,r=n(null),s=n(0),o=n(null);l((()=>{document.addEventListener("snipcart.ready",(()=>{Snipcart.store.subscribe((()=>{s.value=Snipcart.store.getState().cart.items.count,o.value=Snipcart.store.getState()}))}))}));const u={props:a,btn:r,count:s,shoppingState:o,setValue:()=>{r.value&&r.value.setAttribute(a.option,message.value)},openCart:()=>{window.Snipcart&&window.Snipcart.api.theme.cart.open()},ref:n,onMounted:l};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},B=["aria-label","data-count"],k={class:"hidden"};function x(e,t,a,n,r,s){return p(),u(v,null,[f(m,{name:"fade"},{default:b((()=>[n.count>0?(p(),u("button",{key:0,"aria-label":a.label,class:"cart-btn grid h-full place-items-center",onClick:t[0]||(t[0]=e=>n.openCart()),ref:"btn","data-count":n.count},[h(e.$slots,"default")],8,B)):C("",!0)])),_:3}),S("div",k,g(n.shoppingState),1)],64)}const E=_(w,[["render",x]]);export{E as default};