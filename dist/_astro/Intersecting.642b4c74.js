import{g as L,d as h,h as W,n as y,a as C,i as N,e as I,c as V,f as O}from"./index.bc4495b3.js";import{f as w,r as p,w as _,k as B,o as x,g as H,c as Y,b as j,d as X,n as $,e as z}from"./runtime-core.esm-bundler.d90b5eb8.js";import{_ as P}from"./_plugin-vue_export-helper.c27b6911.js";function g(e){var t;const n=h(e);return(t=n?.$el)!=null?t:n}const E=N?window:void 0;function R(...e){let t,n,r,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,s]=e,t=E):[t,n,r,s]=e,!t)return y;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const u=[],c=()=>{u.forEach(i=>i()),u.length=0},o=(i,a,m,d)=>(i.addEventListener(a,m,d),()=>i.removeEventListener(a,m,d)),l=_(()=>[g(t),h(s)],([i,a])=>{if(c(),!i)return;const m=V(a)?{...a}:a;u.push(...n.flatMap(d=>r.map(f=>o(i,d,f,m))))},{immediate:!0,flush:"post"}),v=()=>{l(),c()};return O(v),v}function T(){const e=p(!1);return B()&&x(()=>{e.value=!0}),e}function q(e){const t=T();return w(()=>(t.value,!!e()))}function M(e,t,n={}){const{root:r,rootMargin:s="0px",threshold:u=.1,window:c=E,immediate:o=!0}=n,l=q(()=>c&&"IntersectionObserver"in c),v=w(()=>{const f=h(e);return(Array.isArray(f)?f:[f]).map(g).filter(W)});let i=y;const a=p(o),m=l.value?_(()=>[v.value,g(r),a.value],([f,D])=>{if(i(),!a.value||!f.length)return;const S=new IntersectionObserver(t,{root:g(D),rootMargin:s,threshold:u});f.forEach(k=>k&&S.observe(k)),i=()=>{S.disconnect(),i=y}},{immediate:o,flush:"post"}):y,d=()=>{i(),m(),a.value=!1};return O(d),{isSupported:l,isActive:a,pause(){i(),a.value=!1},resume(){a.value=!0},stop:d}}function b(e){return typeof Window<"u"&&e instanceof Window?e.document.documentElement:typeof Document<"u"&&e instanceof Document?e.documentElement:e}const F={[L.mounted](e,t){typeof t.value=="function"?M(e,t.value):M(e,...t.value)}};function A(e){const t=window.getComputedStyle(e);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&e.clientWidth<e.scrollWidth||t.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const n=e.parentNode;return!n||n.tagName==="BODY"?!1:A(n)}}function G(e){const t=e||window.event,n=t.target;return A(n)?!1:t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)}function J(e,t=!1){const n=p(t);let r=null,s;_(C(e),o=>{const l=b(h(o));if(l){const v=l;s=v.style.overflow,n.value&&(v.style.overflow="hidden")}},{immediate:!0});const u=()=>{const o=b(h(e));!o||n.value||(I&&(r=R(o,"touchmove",l=>{G(l)},{passive:!1})),o.style.overflow="hidden",n.value=!0)},c=()=>{const o=b(h(e));!o||!n.value||(I&&r?.(),o.style.overflow=s,n.value=!1)};return O(c),w({get(){return n.value},set(o){o?u():c()}})}function K(){let e=!1;const t=p(!1);return(n,r)=>{if(t.value=r.value,e)return;e=!0;const s=J(n,r.value);_(t,u=>s.value=u)}}K();const Q="10%",U={__name:"Intersecting",props:{className:String,noSsr:Boolean},setup(e,{expose:t}){t();const n=e,r=p(!1),s=p(!1);function u([{isIntersecting:l}]){r.value=l,l&&(s.value=!0)}const c=w(()=>!(n?.noSsr&&!s.value)),o={isVisible:r,rootMargin:Q,firstVisible:s,onIntersectionObserver:u,props:n,show:c,ref:p,computed:w,get vIntersectionObserver(){return F}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}};function Z(e,t,n,r,s,u){return H((z(),Y("div",{class:$(`${n.className||""} ${r.isVisible?"in-screen":"out-of-screen"} ${r.firstVisible?"is-active":"is-inactive"}`)},[r.show?j(e.$slots,"default",{key:0}):X("",!0)],2)),[[r.vIntersectionObserver,[r.onIntersectionObserver,{rootMargin:r.rootMargin}]]])}const re=P(U,[["render",Z]]);export{re as default};
