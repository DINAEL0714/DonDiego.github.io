import{u as g,p as s,a as f}from"./store.bdb83ed4.js";import{_ as h}from"./_plugin-vue_export-helper.c27b6911.js";import{r as v,f as _,w as S,o as x,c as I,b as V,n as y,e as B}from"./runtime-core.esm-bundler.d90b5eb8.js";const N={__name:"VariationButton",props:{option:String,value:String,className:String,price:Number,hasImage:Boolean,id:String,group:String},setup(u,{expose:p}){p();const e=u,r=v(null),o=g(s),l=_(()=>o.value.some(a=>a.id===e.id));function d(a){let t=JSON.parse(JSON.stringify(o.value));const i=t.findIndex(c=>c.group===e.group),n=t.findIndex(c=>c.id===e.id);if(i!==-1&&n===-1){t[i]=a,r.value.setAttribute(e.option,a.value),s.set(t);return}if(n!==-1){t.splice(n,1),r.value.removeAttribute(e.option),s.set(t);return}t.push(a),r.value.setAttribute(e.option,a.value),s.set(t)}const b=()=>{r.value&&d({hasImage:e.hasImage,value:e.value,price:e.price,group:e.group,id:e.id,hasImage:!1})};S(o,a=>{const t=a.reduce((i,n)=>i+n.price,0);f.set(t)}),x(()=>{r.value=document.querySelector("#add-to-card")});const m={btn:r,$productVariations:o,active:l,props:e,addOrRemoveProduct:d,setValue:b,ref:v,onMounted:x,computed:_,watch:S,get useStore(){return g},get productExtraPrice(){return f},get productVariations(){return s}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}};function $(u,p,e,r,o,l){return B(),I("button",{class:y(`${e.className} ${r.active?"bg-primary bg-opacity-10 hover:text-light":"border-0"}`),onClick:r.setValue},[V(u.$slots,"default")],2)}const A=h(N,[["render",$]]);export{A as default};
